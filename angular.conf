<VirtualHost *:80>
    ServerName localhost
    DocumentRoot "/usr/local/apache2/htdocs"

    <Directory "/usr/local/apache2/htdocs">
        Options FollowSymLinks
        AllowOverride All
        Require all granted
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule ^ /index.html [L]
    </Directory>

    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set Referrer-Policy "no-referrer"
    Header always set Content-Security-Policy "default-src 'self'; img-src 'self' data:; connect-src 'self' http://localhost:8080 ws://localhost:8080 wss://localhost:8080; style-src 'self' 'unsafe-inline'; script-src 'self';"

    <LocationMatch "\.(js|css|png|jpg|jpeg|svg|woff2?)$">
        Header set Cache-Control "public, max-age=31536000, immutable"
    </LocationMatch>

    <FilesMatch "\.html$">
        Header set Cache-Control "no-cache"
    </FilesMatch>
</VirtualHost>

LoadModule rewrite_module modules/mod_rewrite.so
LoadModule headers_module modules/mod_headers.so




